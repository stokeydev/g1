<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gazetteer</title>

    <link rel="stylesheet" href="libs/css/leaflet_1.8.0.css">
    <link rel="stylesheet" href="libs/css/toastify.min.css">
    <link rel="stylesheet" href="libs/css/MarkerCluster.Default.min.css">
    <link rel="stylesheet" href="libs/css/leaflet.markercluster.css">
    <link rel="stylesheet" href="libs/css/leaflet.extra-markers.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link rel="stylesheet" href="libs/css/bootstrap.min.css">
    <link rel="stylesheet" href="libs/css/Leaflet.EasyButton.css">
    <link rel="stylesheet" href="libs/css/styles.css">

    <!-- Favicon markup -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
  </head>
  <body>
    <div id="selectContainer">
      <select id="countrySelect" class="form-select shadow-sm">
          <!-- Options will be populated dynamically using JavaScript -->
      </select>
    </div>

    <div id="map"></div>

   

    <!-- Include JavaScript libraries -->
    <script src="libs/js/leaflet.js"></script>
    <script src="libs/js/jquery.min.js"></script>
    <script src="libs/js/toastify.min.js"></script>
    <script src="libs/js/leaflet.markercluster.js"></script>
    <script src="libs/js/leaflet.extra-markers.js"></script>
    <script src="libs/js/bootstrap.min.js"></script>
    <script src="libs/js/easy-button.min.js"></script>

    <!-- Main Script -->
    <script src="libs/js/script.js"></script>

    <!-- Additional inline JavaScript for fetching country names and codes -->
    <script>
      // Get country codes and names from getCountry.php and add to dropdown selector
      function getCountryNamesAndCodes() {
        $.ajax({
          url: "assets/php/getCountry.php",
          type: "GET",
          success: function (countries) {
            let options = "";
            for (let country of countries) {
              options += '<option value="' + country[1] + '">' + country[0] + "</option>";
            }
            $("#countrySelect").append(options);
          },
          error: function (jqXHR, textStatus, errorThrown) {
            console.error("Error fetching country data: ", textStatus, errorThrown);
          }
        });
      }

      // Call the function to populate the dropdown when the document is ready
      $(document).ready(function() {
        getCountryNamesAndCodes();
      });
    </script>
  </body>
</html>
